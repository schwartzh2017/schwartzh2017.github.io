<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Monthly Reports Application | Haleigh Schwartz </title> <meta name="author" content="Haleigh Schwartz"> <meta name="description" content="Customizable monthly reports for Main Street Family Medicine, PLLC."> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website, machine learning, python, statistics, R, data science, data analysis, healthcare analysis, data visualization, quarto"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%91%BB&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://schwartzh2017.github.io/schwartzh2017//projects/msfm_reports_project/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>initTheme();</script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> Haleigh Schwartz </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item active"> <a class="nav-link" href="/projects/">projects <span class="sr-only">(current)</span> </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Monthly Reports Application</h1> <p class="post-description">Customizable monthly reports for Main Street Family Medicine, PLLC.</p> </header> <article> <p>In my role at <a href="https://www.mainstreetfamilymed.com/" rel="external nofollow noopener" target="_blank">Main Street Family Medicine</a>, I created an application to genearte monthly reports. I wrote scripts for easily extracting data from our Electronic Medical Record (EMR) and re-running pertinent analyses each month. Using tools such as RStudio and Shiny, I merged these reports into a publishable (yet password-protected) application for internal sharing. The report includes both patient and business data. Work with patient data is helpful to both our nurse practitioner students as they work on their doctorate projects and the rest of our staff as we continually seek to provide relevant and effective care for our patients. The rest of the data provides opportunites to make well-informed business decisions for the future of our clinic.</p> <p>Watch the demonstration below for a look at how a user can navigate the application and gain insightful data from it. Please note that several reports are concealed from this demonstration for patient and business confidentiality reasons.</p> <p>When a user navigates to the web application, they are first prompted to enter the password. With the correct password, the app automatically navigates to the second page, titled “PPD Plot.” This stands for “Patients per Provider per Day”, which has helped us to keep track of how each provider’s patient panels have grown so we can know when to on-board new providers and other staff.</p> <p>The second report title is hidden. The video shows the title of the third report (“Monthly Revenue Plots”), but the actual plots are not shown. This data has guided us through decisions concerning patient and company relationships, when to pause enrollment, how closed enrollment impacted our company, and when to open enrollment again.</p> <p>The fourth report details the insurance status of our patients. This led us to begin collecting insurance information from our patients as the report revealed how most patients’ status was unknown. As we gather their insurance statuses, we are able to target specific resources for our patients (ex: which hospital systems accept which insurances for which referral specialties, what our cash pay options are for our uninsured patients, etc).</p> <p>The title of the fifth report is “Patient Demographics and Conditions,” but the report itself is not shown for confidentiality reasons. This data has guided us to create free programs and resources designed for the unique needs of our patient population. The final report title is also hidden.</p> <div class="row justify-content-sm-center"> <figure> <video src="/assets/video/MSFM_Reports_App_No_Audio.mp4" class="img-fluid rounded z-depth-1" width="auto" height="auto" autoplay="" controls=""></video> </figure> </div> <p>See below for detailed code on the PPD plot.</p> <div> <figure class="highlight"><pre><code class="language-r" data-lang="r"><span class="w">    </span><span class="c1">#PPD plot</span><span class="w">
    </span><span class="n">output</span><span class="o">$</span><span class="n">PPD_Plot</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">renderPlotly</span><span class="p">({</span><span class="w">

        </span><span class="c1">#input variables</span><span class="w">
        </span><span class="n">thisProvider</span><span class="o">&lt;-</span><span class="n">input</span><span class="o">$</span><span class="n">Provider</span><span class="w">
        </span><span class="n">start_date</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.Date</span><span class="p">(</span><span class="n">input</span><span class="o">$</span><span class="n">Dates</span><span class="p">[</span><span class="m">1</span><span class="p">])</span><span class="w">
        </span><span class="n">end_date</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">as.Date</span><span class="p">(</span><span class="n">input</span><span class="o">$</span><span class="n">Dates</span><span class="p">[</span><span class="m">2</span><span class="p">])</span><span class="w">
        </span><span class="n">hours_worked</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">input</span><span class="o">$</span><span class="n">HoursWorked</span><span class="w">
        </span><span class="n">provider_working</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">paste</span><span class="p">(</span><span class="n">thisProvider</span><span class="p">,</span><span class="w"> </span><span class="s2">" Working?"</span><span class="p">,</span><span class="w"> </span><span class="n">sep</span><span class="o">=</span><span class="s2">""</span><span class="p">)</span><span class="w">

        </span><span class="c1">#Make new ds for the selections</span><span class="w">
        </span><span class="c1">#select whole ds for all days</span><span class="w">
        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hours_worked</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"All days"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">dplyr</span><span class="o">::</span><span class="n">filter</span><span class="p">(</span><span class="n">Provider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">thisProvider</span><span class="p">,</span><span class="w">
                          </span><span class="n">between</span><span class="p">(</span><span class="n">Date</span><span class="p">,</span><span class="w"> </span><span class="n">start_date</span><span class="p">,</span><span class="w"> </span><span class="n">end_date</span><span class="p">),</span><span class="w">
                          </span><span class="n">Count_by_Provider</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">
        </span><span class="p">}</span><span class="w"> 
        </span><span class="c1">#select only full days</span><span class="w">
        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hours_worked</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Full days only"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">dplyr</span><span class="o">::</span><span class="n">filter</span><span class="p">(</span><span class="n">Provider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">thisProvider</span><span class="p">,</span><span class="w">
                          </span><span class="n">between</span><span class="p">(</span><span class="n">Date</span><span class="p">,</span><span class="w"> </span><span class="n">start_date</span><span class="p">,</span><span class="w"> </span><span class="n">end_date</span><span class="p">),</span><span class="w">
                          </span><span class="n">Count_by_Provider</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">
          </span><span class="c1">#select only alisha's full days</span><span class="w">
          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">thisProvider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Alisha"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
              </span><span class="n">dplyr</span><span class="o">::</span><span class="n">filter</span><span class="p">(</span><span class="n">`Alisha working?`</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">1.0</span><span class="p">)</span><span class="w">
          </span><span class="p">}</span><span class="w"> 
          </span><span class="c1">#select only baker's full days</span><span class="w">
          </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">thisProvider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Baker"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
              </span><span class="n">dplyr</span><span class="o">::</span><span class="n">filter</span><span class="p">(</span><span class="n">`Baker Working?`</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">1.0</span><span class="p">)</span><span class="w">
          </span><span class="p">}</span><span class="w"> 
          </span><span class="c1">#select only lindsey's full days</span><span class="w">
          </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">thisProvider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Lindsey"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
              </span><span class="n">dplyr</span><span class="o">::</span><span class="n">filter</span><span class="p">(</span><span class="n">`Lindsey Working?`</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">1.0</span><span class="p">)</span><span class="w">
          </span><span class="p">}</span><span class="w">
          </span><span class="c1">#select only jackie's full days</span><span class="w">
          </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">thisProvider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Jackie"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
              </span><span class="n">dplyr</span><span class="o">::</span><span class="n">filter</span><span class="p">(</span><span class="n">`Jackie Working?`</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">1.0</span><span class="p">)</span><span class="w">
          </span><span class="p">}</span><span class="w">
          </span><span class="c1">#select only corrie's full days</span><span class="w">
          </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">thisProvider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Corrie"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
              </span><span class="n">dplyr</span><span class="o">::</span><span class="n">filter</span><span class="p">(</span><span class="n">`Corrie Working?`</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">1.0</span><span class="p">)</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="c1">#select NON full days</span><span class="w">
        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">hours_worked</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Part days only"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">dplyr</span><span class="o">::</span><span class="n">filter</span><span class="p">(</span><span class="n">Provider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">thisProvider</span><span class="p">,</span><span class="w">
                          </span><span class="n">between</span><span class="p">(</span><span class="n">Date</span><span class="p">,</span><span class="w"> </span><span class="n">start_date</span><span class="p">,</span><span class="w"> </span><span class="n">end_date</span><span class="p">),</span><span class="w">
                          </span><span class="n">Count_by_Provider</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">
          </span><span class="c1">#DO NOT select alisha's full days</span><span class="w">
          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">thisProvider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Alisha"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
              </span><span class="n">dplyr</span><span class="o">::</span><span class="n">filter</span><span class="p">(</span><span class="n">`Alisha working?`</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="m">1.0</span><span class="p">)</span><span class="w">
          </span><span class="p">}</span><span class="w"> 
          </span><span class="c1">#DO NOT select baker's full days</span><span class="w">
          </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">thisProvider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Baker"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
              </span><span class="n">dplyr</span><span class="o">::</span><span class="n">filter</span><span class="p">(</span><span class="n">`Baker Working?`</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="m">1.0</span><span class="p">)</span><span class="w">
          </span><span class="p">}</span><span class="w"> 
          </span><span class="c1">#DO NOT select lindsey's full days</span><span class="w">
          </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">thisProvider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Lindsey"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
              </span><span class="n">dplyr</span><span class="o">::</span><span class="n">filter</span><span class="p">(</span><span class="n">`Lindsey Working?`</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="m">1.0</span><span class="p">)</span><span class="w">
          </span><span class="p">}</span><span class="w">
          </span><span class="c1">#DO NOT select Jackie's full days</span><span class="w">
          </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">thisProvider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Jackie"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
              </span><span class="n">dplyr</span><span class="o">::</span><span class="n">filter</span><span class="p">(</span><span class="n">`Jackie Working?`</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="m">1.0</span><span class="p">)</span><span class="w">
          </span><span class="p">}</span><span class="w">
          </span><span class="c1">#DO NOT select Corrie's full days</span><span class="w">
          </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">thisProvider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Corrie"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
              </span><span class="n">dplyr</span><span class="o">::</span><span class="n">filter</span><span class="p">(</span><span class="n">`Corrie Working?`</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="m">1.0</span><span class="p">)</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
        

        </span><span class="c1">#make subsets per user input</span><span class="w">
        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">thisProvider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Alisha"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="n">PPD1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">dplyr</span><span class="o">::</span><span class="n">select</span><span class="p">(</span><span class="s2">"Alisha working?"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Date"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Count_by_Provider"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Observation"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">rename</span><span class="p">(</span><span class="n">Provider_Working</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">`Alisha working?`</span><span class="p">)</span><span class="w">
        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">thisProvider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Baker"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="n">PPD1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">dplyr</span><span class="o">::</span><span class="n">select</span><span class="p">(</span><span class="s2">"Baker Working?"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Date"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Count_by_Provider"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Observation"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">rename</span><span class="p">(</span><span class="n">Provider_Working</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">`Baker Working?`</span><span class="p">)</span><span class="w">
        </span><span class="p">}</span><span class="w"> 
        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">thisProvider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Lindsey"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="n">PPD1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">dplyr</span><span class="o">::</span><span class="n">select</span><span class="p">(</span><span class="s2">"Lindsey Working?"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Date"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Count_by_Provider"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Observation"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">rename</span><span class="p">(</span><span class="n">Provider_Working</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">`Lindsey Working?`</span><span class="p">)</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">thisProvider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Nurse"</span><span class="p">)</span><span class="w">  </span><span class="p">{</span><span class="w">
          </span><span class="n">PPD1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">dplyr</span><span class="o">::</span><span class="n">select</span><span class="p">(</span><span class="s2">"Date"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Count_by_Provider"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Observation"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">mutate</span><span class="p">(</span><span class="n">Provider_Working</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">thisProvider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Jackie"</span><span class="p">)</span><span class="w">  </span><span class="p">{</span><span class="w">
          </span><span class="n">PPD1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">dplyr</span><span class="o">::</span><span class="n">select</span><span class="p">(</span><span class="s2">"Jackie Working?"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Date"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Count_by_Provider"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Observation"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">mutate</span><span class="p">(</span><span class="n">Provider_Working</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">`Jackie Working?`</span><span class="p">)</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">thisProvider</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"Corrie"</span><span class="p">)</span><span class="w">  </span><span class="p">{</span><span class="w">
          </span><span class="n">PPD1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">dplyr</span><span class="o">::</span><span class="n">select</span><span class="p">(</span><span class="s2">"Corrie Working?"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Date"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Count_by_Provider"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Observation"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">mutate</span><span class="p">(</span><span class="n">Provider_Working</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">`Corrie Working?`</span><span class="p">)</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="n">PPD1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">PPD_subset</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">dplyr</span><span class="o">::</span><span class="n">select</span><span class="p">(</span><span class="s2">"Other Provider Here?"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Date"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Count_by_Provider"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Observation"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">rename</span><span class="p">(</span><span class="n">Provider_Working</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">`Other Provider Here?`</span><span class="p">)</span><span class="w">
        </span><span class="p">}</span><span class="w">
        
        </span><span class="c1">#make another subset for all the providers</span><span class="w">
        </span><span class="n">PPD_subset2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PPD</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
          </span><span class="n">filter</span><span class="p">(</span><span class="n">Count_by_Provider</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
          </span><span class="n">filter</span><span class="p">(</span><span class="n">Provider</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="s2">"Nurse"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
          </span><span class="n">filter</span><span class="p">(</span><span class="n">between</span><span class="p">(</span><span class="n">Date</span><span class="p">,</span><span class="w"> </span><span class="n">start_date</span><span class="p">,</span><span class="w"> </span><span class="n">end_date</span><span class="p">))</span><span class="w">
        
        </span><span class="c1">#make tibble for observation and actual date</span><span class="w">
        </span><span class="n">Observation_Day_tibble</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tibble</span><span class="p">(</span><span class="w">
          </span><span class="n">Observation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">360</span><span class="p">,</span><span class="m">1</span><span class="p">),</span><span class="w">
          </span><span class="n">Day</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">unique</span><span class="p">(</span><span class="n">PPD</span><span class="o">$</span><span class="n">Date</span><span class="p">))</span><span class="w">
        
        </span><span class="n">PPD_subset2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PPD_subset2</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
          </span><span class="n">left_join</span><span class="p">(</span><span class="n">Observation_Day_tibble</span><span class="p">,</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"Observation"</span><span class="p">)</span><span class="w">
        
        </span><span class="c1">#make the plot</span><span class="w">
        </span><span class="n">gg</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PPD_subset</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">Observation</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">Count_by_Provider</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w">
          </span><span class="c1">#PPD_subset2 to include even provider not selected on the side</span><span class="w">
          </span><span class="n">geom_point</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PPD_subset</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">Observation</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">Count_by_Provider</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="o">=</span><span class="n">Provider</span><span class="p">,</span><span class="w"> </span><span class="n">text</span><span class="o">=</span><span class="n">paste</span><span class="p">(</span><span class="s2">"Date: "</span><span class="p">,</span><span class="n">Date</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;br&gt;"</span><span class="p">,</span><span class="s2">"% Day Alisha Worked: "</span><span class="p">,</span><span class="n">`Alisha working?`</span><span class="p">,</span><span class="s2">"&lt;br&gt;"</span><span class="p">,</span><span class="s2">"% Day Baker Worked: "</span><span class="p">,</span><span class="n">`Baker Working?`</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;br&gt;"</span><span class="p">,</span><span class="s2">"% Day Lindsey Worked: "</span><span class="p">,</span><span class="n">`Lindsey Working?`</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;br&gt;"</span><span class="p">,</span><span class="s2">"% Day Other Worked: "</span><span class="p">,</span><span class="n">`Other Provider Here?`</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;br&gt;"</span><span class="p">,</span><span class="s2">"% Day Jackie Worked: "</span><span class="p">,</span><span class="n">`Jackie Working?`</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;br&gt;"</span><span class="p">,</span><span class="s2">"% Day Corrie Worked: "</span><span class="p">,</span><span class="n">`Corrie Working?`</span><span class="p">,</span><span class="w"> </span><span class="n">sep</span><span class="o">=</span><span class="s2">""</span><span class="p">)))</span><span class="w"> </span><span class="o">+</span><span class="w">
          </span><span class="c1">#for total provider, do not include nurse visits</span><span class="w">
          </span><span class="n">geom_smooth</span><span class="p">(</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PPD_subset2</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">Observation</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">Total_Provider_Pts</span><span class="p">),</span><span class="w"> </span><span class="n">se</span><span class="o">=</span><span class="kc">FALSE</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="o">=</span><span class="m">0.5</span><span class="p">,</span><span class="n">color</span><span class="o">=</span><span class="s2">"aquamarine4"</span><span class="p">)</span><span class="o">+</span><span class="w">
          </span><span class="c1">#for selected provider (ifelse depending on if nurse or other provider selected)</span><span class="w">
          </span><span class="n">geom_smooth</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s2">"glm"</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="o">=</span><span class="n">PPD1</span><span class="p">,</span><span class="w"> </span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">Observation</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">Count_by_Provider</span><span class="p">),</span><span class="w"> </span><span class="n">color</span><span class="o">=</span><span class="s2">"black"</span><span class="p">,</span><span class="w"> </span><span class="n">method.args</span><span class="o">=</span><span class="nf">list</span><span class="p">(</span><span class="n">family</span><span class="o">=</span><span class="s2">"poisson"</span><span class="p">))</span><span class="w"> </span><span class="o">+</span><span class="w"> 
          </span><span class="n">theme_classic</span><span class="p">()</span><span class="o">+</span><span class="w">
          </span><span class="n">xlab</span><span class="p">(</span><span class="s2">"Date"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
          </span><span class="n">ylab</span><span class="p">(</span><span class="s2">"Number of Patients Seen \n(by Selected Provider)"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">
          </span><span class="n">scale_x_continuous</span><span class="p">(</span><span class="n">breaks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">seq</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="m">378</span><span class="p">,</span><span class="m">21</span><span class="p">),</span><span class="w"> </span><span class="n">labels</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"Aug23"</span><span class="p">,</span><span class="s2">"Sept23"</span><span class="p">,</span><span class="s2">"Oct23"</span><span class="p">,</span><span class="s2">"Nov23"</span><span class="p">,</span><span class="s2">"Dec23"</span><span class="p">,</span><span class="s2">"Jan24"</span><span class="p">,</span><span class="s2">"Feb24"</span><span class="p">,</span><span class="s2">"March24"</span><span class="p">,</span><span class="s2">"April24"</span><span class="p">,</span><span class="s2">"May24"</span><span class="p">,</span><span class="w"> </span><span class="s2">"June24"</span><span class="p">,</span><span class="w"> </span><span class="s2">"July24"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Aug24"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Sept24"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Oct24"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Nov24"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Dec24"</span><span class="p">,</span><span class="w"> </span><span class="s2">"Jan25"</span><span class="p">))</span><span class="o">+</span><span class="c1">#current max observations = 360 (1/05/25) (need to find how many unique days are in PPD from PPD.Rmd and then update both seq(1,x,21) and labels). Doing it every 21 since 21ish working days a month</span><span class="w">
          </span><span class="n">ylim</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="m">17</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> 
          </span><span class="n">theme</span><span class="p">(</span><span class="w">
            </span><span class="n">axis.title.x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">element_blank</span><span class="p">()</span><span class="w">
          </span><span class="p">)</span><span class="w">
        
          </span><span class="n">ggplotly</span><span class="p">(</span><span class="n">gg</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
            </span><span class="n">layout</span><span class="p">(</span><span class="n">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">list</span><span class="p">(</span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">paste0</span><span class="p">(</span><span class="s1">'&lt;br&gt;'</span><span class="p">,</span><span class="w">
              </span><span class="n">paste</span><span class="p">(</span><span class="s2">"PPD for "</span><span class="p">,</span><span class="w"> </span><span class="n">thisProvider</span><span class="p">,</span><span class="w"> </span><span class="s2">" between "</span><span class="p">,</span><span class="w"> </span><span class="nf">as.character</span><span class="p">(</span><span class="n">start_date</span><span class="p">),</span><span class="w"> </span><span class="s2">" &amp; "</span><span class="p">,</span><span class="w"> </span><span class="nf">as.character</span><span class="p">(</span><span class="n">end_date</span><span class="p">),</span><span class="w"> </span><span class="n">sep</span><span class="o">=</span><span class="s2">""</span><span class="p">),</span><span class="w">
              </span><span class="s1">'&lt;br&gt;'</span><span class="p">,</span><span class="w">
              </span><span class="s1">'&lt;sup&gt;'</span><span class="p">,</span><span class="w">
              </span><span class="s1">'(black line = avg PPD for provider selected; green = total number patients seen per day)'</span><span class="p">,</span><span class="w"> 
              </span><span class="s1">'&lt;br&gt;'</span><span class="p">,</span><span class="w">
              </span><span class="s1">'&lt;sup&gt;'</span><span class="p">))</span><span class="w">
     </span><span class="p">})</span><span class="w">


    </span></code></pre></figure> </div> <p>NOTE: Thank you to <a href="https://www.canva.com/" rel="external nofollow noopener" target="_blank">Canva</a> for the stock report image used for this project.</p> </article> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Haleigh Schwartz. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.min.js" integrity="sha256-rjmgmaB99riUNcdlrDtcAiwtLIojSxNyUFdl+Qh+rB4=" crossorigin="anonymous"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> <script src="/assets/js/vanilla-back-to-top.min.js?f40d453793ff4f64e238e420181a1d17"></script> <script>addBackToTop();</script> <script src="/assets/js/shortcut-key.js"></script> </body> </html>